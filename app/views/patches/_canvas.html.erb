<%= tag.pc_canvas id: dom_id(patch),
                  class: "pc-canvas drag--droppable",
                  data: { controller: "drag audio-context",
                          drag_target: "droppable",
                          drag_draggable_offset_value: { x: 0, y: 0 },
                          drag_canvas_offset_value: { x: 0, y: 0 },
                          drag_is_dragging_class: "drag--is-dragging",
                          drag_droppable_class: "drag--droppable",
                          drag_draggable_class: "drag--draggable",
                          action: token_list("mousedown->drag#start",
                                             "mousemove->drag#drag",
                                             "mouseup->drag#drop",
                                             "click->audio-context#start:once") } do %>

  <p><%= patch.boxes.count %></p>

  <% patch.boxes.each do |box| %>
    <%= render "patches/box", box: box %>
  <% end %>
<% end %>
