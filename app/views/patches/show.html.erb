<%= content_for :header_class do %>
  is-small
<% end %>

<%= content_for :header_body do %>
  <%= render "shared/titles", title: t(".title"),
                              subtitle: t(".subtitle", patch_name: @patch.name) %>
<% end %>


<%= tag.pc_patch id: dom_id(@patch),
                 class: "pc-patch drag--droppable is-flex",
                 data: { controller: "drag audio-context",
                         drag_target: "droppable",
                         drag_draggable_offset_value: { x: 0, y: 0 },
                         drag_canvas_offset_value: { x: 0, y: 0 },
                         drag_is_dragging_class: "drag--is-dragging",
                         drag_droppable_class: "drag--droppable",
                         drag_draggable_class: "drag--draggable",
                         action: token_list("mousedown->drag#start",
                                            "mousemove->drag#drag",
                                            "mouseup->drag#drop",
                                            "click->audio-context#start:once") } do %>

  <%= render "patches/main_controls", patch: @patch %>

  <%= render @patch %>

<% end %>



<%= tag.svg id="mySVG", data: { controller: "line",
                                action: "",
                                class: "pc-line-svg",
                                line_source_id_value: "box0",
                                line_destination_id_value: "box3" } do %>
  <%= tag.line id: "myLine",
               class: "pc-line",
               data: { line_target: "line" } %>
<% end %>
